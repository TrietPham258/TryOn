#:kivy 2.1.0
#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import get_color_from_hex kivy.utils.get_color_from_hex

<UI>
    Screen:
        name: "screen5"    
        MDBoxLayout:
            orientation: "vertical"
            canvas:
                Color:
                    rgba: (229/255, 224/255, 250/255, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size

            MDTopAppBar:
                title: "Fitting page"
                md_bg_color: get_color_from_hex('#30448b')
                specific_text_color: 1, 1, 1, 1

            
            MDFloatLayout:
                id: sample_image
                # See the outline of a layout
                canvas.before:
                    Color:
                        rgba: 1, 0, 0, 0
                    Line:
                        width: 1
                        rectangle: self.x, self.y, self.width, self.height   

                Sample:
                    id: secondary_image
                    source: app.file_manage.homepage_image
                    size: dp(282), dp(376)
                    pos_hint: {'center_x': .5, 'top': .97}
                
                MDRectangleFlatButton:
                    id: enter_room
                    text: "Enter Fitting Room"
                    pos_hint: {'center_x': .5, 'top': .17}
                    md_bg_color: 1, 1, 1, 0
                    line_color: get_color_from_hex('#30448b')
                    text_color: get_color_from_hex('#30448b')
                    on_release:
                        if app.file_manage.homepage_image != "assets/images/Upload your image.jpg": \
                        root.current = "screen7"
                    on_release:
                        if app.file_manage.homepage_image == "assets/images/Upload your image.jpg": \
                        app.announcement("Upload your image")

                MDSwitch:
                    id: mode
                    size_hint: None, None
                    size: dp(50), dp(30)
                    pos_hint: {'center_x': .5, 'top': .08}
                    on_active: app.fp_mode()
                
                MDLabel:
                    size_hint: None, None
                    size: dp(150), dp(15)
                    text: "Automatic Mode"
                    color: 0, 0, 0, 1
                    pos: mode.pos[0] - dp(130), mode.pos[1] + dp(7)
                
                MDLabel:
                    size_hint: None, None
                    size: dp(100), dp(15)
                    text: "Sticker Mode"
                    color: 0, 0, 0, 1
                    pos: mode.pos[0] + dp(70), mode.pos[1] + dp(7)
            
            # Bottom Panel
            MDFloatLayout:
                size_hint_y: 0.13
                canvas:
                    Color:
                        rgba: (255/255, 251/255, 254/255, .85)
                    Rectangle:
                        pos: self.pos
                        size: self.size

                MDIconButton:
                    id: homepage
                    icon: 'home-outline'
                    pos_hint: {'x': .05, 'center_y': .5}
                    on_release: root.current = "screen3"

                MDIconButton:
                    id: measurement_page
                    icon: 'pencil-outline'
                    pos_hint: {'x': .3083, 'center_y': .5}
                    on_release: root.current = "screen4" 

                MDIconButton:
                    id: fitting_page
                    icon: 'tshirt-crew'
                    pos_hint: {'x': .5667, 'center_y': .5}

                MDIconButton:
                    id: checkout_page
                    icon: 'cart-outline'
                    pos_hint: {'x': .825, 'center_y': .5}
                    on_release: root.current = "screen6"