#:kivy 2.1.0
#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import get_color_from_hex kivy.utils.get_color_from_hex


<Clothes_Type@MDRoundFlatButton>
    id: root.id
    text: root.text
    size_hint: .3, 1
    line_color: 1, 1, 1, 1
    md_bg_color: get_color_from_hex('ffffff')
    text_color: 0, 0, 0, 1
    on_release: app.fr_change_clothes_type(root.text)


<EmptyButton>
    id: root.id
    size_hint: None, None
    size: dp(60), dp(80)
    pos_hint: {'center_x': .5, 'center_y': .5}
    MDRectangleFlatButton:
        text: "None"
        md_bg_color: 1, 1, 1, 1
        line_color: 1, 1, 1, 1
        text_color: 0, 0, 0, 1
        pos_hint: {'center_x': .5, 'center_y': .5}
        size_hint: 1, 1
        on_release:
            app.root.ids.drag_ob.source = "assets/images/Blank Space.png"
            app.root.ids.drag_ob.drag_timeout = 0
            app.root.ids.drag_ob.pos = [app.window_sizes[0]/2, app.window_sizes[1]/2]


<Tab@MDBoxLayout>
    pos_hint: {'top': .7}
    orientation: 'vertical'
    height: self.minimum_height
    ScrollView:
        size_hint: 1, .4
        do_scroll_y: False
        MDBoxLayout:
            id: box_clothes
            size_hint: None, .6
            width: self.minimum_width
            orientation: 'horizontal'
            padding: dp(10)
            spacing: dp(40)

            EmptyButton:


<UI>
    Screen:
        name: "screen7"
        MDBoxLayout:
            refresh: size_slider.__self__
            orientation: "vertical"
            canvas:
                Color:
                    rgba: (229/255, 224/255, 250/255, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size

            MDTopAppBar:
                id: fittingroom_top
                title: "Fitting room"
                md_bg_color: get_color_from_hex('#30448b')
                specific_text_color: 1, 1, 1, 1
                
                left_action_items: [["chevron-left", lambda x: app.fr_back(), "Back to Fitting page"]]
                right_action_items: [["cart-check", lambda x: app.fr_confirm_clothes(), "Confirm clothes"]]
                
            MDFloatLayout:
                id: fittingroom_layout
                refresh: size_label.__self__
                Sample:
                    id: fitting_image
                    source: app.file_manage.homepage_image
                    size: dp(282), dp(376)
                    pos_hint: {'center_x': .5, 'top': .97}
                                
                DragObject:
                    id: drag_ob
                    source: "assets/images/Blank Space.png"
                    allow_stretch: False
                    keep_ratio: True
                    size_hint: None, None
                    size: dp(109), dp(145)
                    pos: fitting_image.pos[0] + 88, fitting_image.pos[1] + 175

                MDLabel:
                    id: size_label
                    text: "S i z e"
                    font_size: dp(13)
                    color: "black"
                    pos_hint: {'x': .01, 'top': 1.3}

                CustomSlider:
                    id: size_slider
                    orientation: 'vertical'
                    size_hint: .5, .5
                    pos_hint: {'x': - 0.19, 'top': .8}
                    hint: True
                    hint_bg_color: "yellow"
                    hint_text_color: "black"
                    
                    min: 0
                    max: 18
                    step: 1
                    track_color_active: "black"
                    on_value: app.fr_slider(self, *args)
                
                MDFloatLayout:
                    pos_hint: {'top': .28}
                    size_hint: 1, .28
                    canvas.before:
                        Color:
                            rgba: 1, 0, 0, 0
                        Line:
                            width: 1
                            rectangle: self.x, self.y, self.width, self.height
                    MDFloatLayout:
                        id: tabsbase
                        size_hint: 1, .26
                        pos_hint: {'top': 1}

                        canvas:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size

                        canvas.before:
                            Color:
                                rgba: 1, 0, 0, 0
                            Line:
                                width: 1
                                rectangle: self.x, self.y, self.width, self.height
                        
                        Clothes_Type:
                            id: tops
                            text: "Tops"
                            pos_hint: {'x': .025, 'top': 1}
                            md_bg_color: get_color_from_hex('#d9d9d9')

                        Clothes_Type:
                            id: dresses
                            text: "Dresses"
                            pos_hint: {'x': .35, 'top': 1}

                        Clothes_Type:
                            id: bottoms
                            text: "Bottoms"
                            pos_hint: {'x': .675, 'top': 1}

                    Tab:
                        id: clothes    
                        canvas.before:
                            Color:
                                rgba: 0, 1, 0, 0
                            Line:
                                width: 1
                                rectangle: self.x, self.y, self.width, self.height
                            

                                    


                            
                    




                
                    
                
            
